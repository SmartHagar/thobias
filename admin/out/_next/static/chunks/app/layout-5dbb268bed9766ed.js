(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{6642:function(e,t,s){Promise.resolve().then(s.bind(s,8849)),Promise.resolve().then(s.t.bind(s,2778,23)),Promise.resolve().then(s.bind(s,9371)),Promise.resolve().then(s.bind(s,8784)),Promise.resolve().then(s.bind(s,8646)),Promise.resolve().then(s.bind(s,7129)),Promise.resolve().then(s.bind(s,4850)),Promise.resolve().then(s.bind(s,2841))},8849:function(e,t,s){"use strict";var r=s(7437),a=s(9376),n=s(2265),l=s(4010);t.default=()=>{let[e,t]=(0,n.useState)(!0),s=(0,a.usePathname)(),o=(0,a.useRouter)(),{cekToken:i}=(0,l.Z)(),c=async()=>{let e=await i();return(null==e?void 0:e.error)?o.push("/auth/login"):e};(0,n.useEffect)(()=>(c(),()=>{}),[s]);let u=async()=>{let e=await c();(null==e?void 0:e.error)||t(!1)};if((0,n.useEffect)(()=>(u(),console.log("pertama render"),()=>{}),[]),e)return(0,r.jsx)("div",{className:"flex absolute inset-0 bg-white min-h-screen h-screen justify-center items-center z-50",children:(0,r.jsx)("span",{className:"loading loading-dots loading-md"})})}},3684:function(e,t,s){"use strict";var r=s(4131);let a=async e=>{let{setLogout:t,setLoadLogout:s,route:a}=e;s(!0);let n=await t();if((null==n?void 0:n.status)==="success")return r.Z.remove("token"),r.Z.remove("role"),r.Z.remove("user"),window.location.href="/"};t.Z=a},9371:function(e,t,s){"use strict";var r=s(7437),a=s(7129),n=s(2265),l=s(2841),o=s(5536),i=s(9376),c=s(1140),u=s(4850),d=s(2385),f=s(393);t.default=()=>{let{isOpen:e,setIsOpen:t}=(0,a.X)(),{welcome:s,setWelcome:h}=(0,l.I)(),{dtNotifications:m}=(0,u.l)(),[x,p]=(0,n.useState)(!1),[b,g]=(0,n.useState)([]),{setUpdate:v}=(0,d.Z)(),j=(0,i.usePathname)(),w=(0,i.useRouter)();(0,n.useEffect)(()=>{if("/admin"===j)h("Selamat Datang Admin");else{let e=null==j?void 0:j.split("/");h("Halaman ".concat(e[e.length-1]))}return()=>{}},[j,h]),(0,n.useEffect)(()=>{t(!1)},[j,t]),(0,n.useEffect)(()=>{g(null==m?void 0:m.filter(e=>!e.read))},[m]),(0,n.useEffect)(()=>{g(null==m?void 0:m.filter(e=>!e.read))},[m]);let y=async e=>{w.push("/orders"),await v(e),p(!1)};return console.log({dtNotifications:m,unreadNotifications:b}),(0,r.jsxs)("div",{className:"flex justify-between lg:justify-center z-50 h-10  bg-linear",children:[(0,r.jsx)("h3",{className:"capitalize text-xl z-50 font-bold w-full text-center text-neutral pt-1",children:s}),(0,r.jsxs)("div",{className:"absolute flex lg:justify-end lg:right-4 lg: left-4 top-2",children:[(0,r.jsxs)("div",{className:"cursor-pointer z-50",onClick:()=>{null==b||b.length,p(!x)},children:[(null==b?void 0:b.length)>0&&(0,r.jsx)("div",{className:"w-2 h-2 bg-red-600 rounded-full absolute top-0 right-0"}),(0,r.jsx)(c.m32,{className:"text-xl"})]}),(0,r.jsx)("div",{className:"absolute grow top-8 w-96 max-h-[94vh] overflow-auto z-50 backdrop-blur select-none rounded-b-xl ".concat(x?"flex flex-col":"hidden"),children:(0,r.jsx)("div",{className:"bg-secondary/20",children:null==m?void 0:m.map((e,t)=>{var s;let a=JSON.parse(e.data);return(0,r.jsxs)("div",{onClick:()=>y(e.id),className:"".concat(e.read?"bg-white":"bg-secondary/10"," cursor-pointer flex flex-row justify-between items-center p-1 pl-2 border-b border-primary"),children:[(0,r.jsx)("span",{className:"text-sm",children:a.nm_recipient}),(0,r.jsx)("span",{className:"text-sm",children:(0,f.Z)((null==e?void 0:null===(s=e.notifiable)||void 0===s?void 0:s.total_payment)||0)})]},t)})})})]}),(0,r.jsx)(o.vHB,{className:"lg:hidden cursor-pointer z-50 select-none mr-4 self-center",onClick:()=>{t(!e)}})]})}},4629:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var r=s(7437),a=s(1140);let n=e=>"".concat(e),l=async()=>[{name:"Dashboard",href:n("/dashboard"),icon:(0,r.jsx)(a.u9h,{})},{name:"Lokasi",slug:"shippings",icon:(0,r.jsx)(a.pzg,{}),subMenus:[{name:"Kecamatan",href:n("/shippings/subDistricts")},{name:"Kelurahan",href:n("/shippings/villages")}]},{name:"Kategori",slug:"categories",icon:(0,r.jsx)(a.xH_,{}),subMenus:[{name:"Daftar",href:n("/categories/lists")},{name:"Sub Kategori",href:n("/categories/subCategories")}]},{name:"Produk",icon:(0,r.jsx)(a.R_f,{}),href:n("/products/lists")},{name:"Pesanan",href:n("/orders"),icon:(0,r.jsx)(a.HSp,{})}]},8784:function(e,t,s){"use strict";var r=s(7437),a=s(2265),n=s(7648),l=s(9376),o=s(9578),i=s(3684),c=s(7129),u=s(8614),d=s(521),f=s(4629),h=s(2746);t.default=e=>{let{type:t="admin"}=e,{isOpen:s}=(0,c.X)(),m=(0,l.usePathname)(),x=(0,l.useRouter)(),[p,b]=(0,a.useState)([]),[g,v]=(0,a.useState)([]),[j,w]=(0,a.useState)(!1),{setLogout:y}=(0,h.Z)(),N=(0,a.useCallback)(async()=>{let e=[];"admin"===t&&(e=await (0,f.I)()),b(e)},[t]);(0,a.useEffect)(()=>{N()},[N]);let k=e=>{for(let t of e){if((null==t?void 0:t.href)===m){let e=null==m?void 0:m.split("/");e.splice(0,1),v(e)}t.subMenus&&k(t.subMenus)}};return(0,a.useEffect)(()=>(p&&k(p),()=>{}),[p,m]),(0,r.jsx)(u.M,{children:s&&(0,r.jsx)(d.E.div,{initial:{y:-300,opacity:0},animate:{y:0,opacity:1},exit:{y:300,opacity:0},children:(0,r.jsx)("div",{className:"h-full px-3 py-4 overflow-auto bg-fourth/80 text-third",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 h-full sidebar w-full overflow-auto",children:[(0,r.jsx)("ul",{className:"space-y-2 grow w-full h-full overflow-auto list-none p-0",children:p&&p.map((e,t)=>{let s=m===e.href,a=null==e?void 0:e.subMenus,{name:l,icon:i,slug:c}=e;return a?(0,o.Z)({subMenus:a,name:l,icon:i,slug:c,index:t,pathname:m,openMenus:g,truncatedName:l}):(0,r.jsx)("li",{children:(0,r.jsxs)(n.default,{href:e.href||"#",className:"flex w-full dark:text-neutral items-center p-2 hover:text-neutral transition-all duration-300 rounded-lg group ".concat(s&&"dark:text-secondary text-secondary font-bold"),children:[i,(0,r.jsx)("span",{className:"ms-3",children:l})]})},t)})}),j?(0,r.jsx)("span",{className:"loading loading-dots loading-md"}):(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{className:"btn btn-primary text-neutral",onClick:()=>(0,i.Z)({setLogout:y,setLoadLogout:w,route:x}),children:"Logout"})})]})})})})}},8646:function(e,t,s){"use strict";var r=s(7437),a=s(2265),n=s(7648),l=s(9376),o=s(9578),i=s(3145),c=s(4629),u=s(3684),d=s(2746);t.default=e=>{let{type:t="admin"}=e,s=(0,l.usePathname)(),f=(0,l.useRouter)(),[h,m]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[b,g]=(0,a.useState)(!1),{setLogout:v}=(0,d.Z)(),j=(0,a.useCallback)(async()=>{let e=[];"admin"===t&&(e=await (0,c.I)()),m(e)},[t]);(0,a.useEffect)(()=>{j()},[j]);let w=e=>{for(let t of e){if((null==t?void 0:t.href)===s){let e=null==s?void 0:s.split("/");e.splice(0,1),p(e)}t.subMenus&&w(t.subMenus)}};return(0,a.useEffect)(()=>(h&&w(h),()=>{}),[h,s]),(0,r.jsx)("aside",{className:"z-40 w-full h-screen transition-transform -translate-x-full sm:translate-x-0 shadow-neutral shadow-sm","aria-label":"Sidebar",children:(0,r.jsx)("div",{className:"sidebar z-50 h-full px-3 pt-4 overflow-y-auto text-third flex flex-row-reverse justify-between sm:block",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 h-full sidebar w-full overflow-hidden",children:[(0,r.jsx)("div",{className:"h-28 sidebar ",children:(0,r.jsx)(i.default,{alt:"logo",src:"/images/logo.png",width:150,height:150,className:"mx-auto mb-3 rounded-full"})}),(0,r.jsx)("ul",{className:"space-y-2 grow w-full h-full overflow-auto scrollbar list-none p-0 select-none dark:text-neutral",children:h&&h.map((e,t)=>{let a=s===e.href,l=null==e?void 0:e.subMenus,{name:i,icon:c,slug:u}=e,d=i.length>10?i.slice(0,10)+"...":i;return l?(0,o.Z)({subMenus:l,name:i,truncatedName:d,icon:c,slug:u,index:t,pathname:s,openMenus:x}):(0,r.jsx)("li",{children:(0,r.jsxs)(n.default,{href:e.href||"#",className:"flex w-full dark:text-neutral items-center p-2 hover:text-neutral hover:underline transition-all duration-300 rounded-lg group ".concat(a&&"dark:text-secondary text-secondary font-bold"),title:i,children:[c,(0,r.jsx)("span",{className:"ms-3",children:d})]})},t)})}),b?(0,r.jsx)("span",{className:"loading loading-dots loading-md"}):(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{className:"btn bg-primary",onClick:()=>(0,u.Z)({setLogout:v,setLoadLogout:g,route:f}),children:"Logout"})})]})})})}},9578:function(e,t,s){"use strict";var r=s(7437),a=s(7648);let n=e=>{let{subMenus:t,name:s,truncatedName:l,icon:o,slug:i,index:c,pathname:u,openMenus:d}=e,f=d.includes(i);return(0,r.jsx)("div",{className:"cursor-pointer",children:(0,r.jsxs)("details",{className:"group [&_summary::-webkit-details-marker]:hidden",open:f,children:[(0,r.jsxs)("summary",{className:"flex items-center justify-between px-2 py-2 transition-colors duration-300 transform rounded-lg hover:text-fifth",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{children:o}),(0,r.jsx)("span",{className:"mx-2",title:s,children:l})]}),(0,r.jsx)("span",{className:"shrink-0 transition duration-300 group-open:-rotate-180",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),t&&t.map((e,t)=>{let s=u===e.href;return(0,r.jsxs)("div",{className:"ml-4",children:[!e.subMenus&&(0,r.jsx)(a.default,{href:e.href||"#",className:"flex items-center mx-3 py-2 transition-colors duration-300 transform hover:text-neutral hover:underline rounded-lg group ".concat(s&&"text-accent font-bold"),children:(0,r.jsx)("span",{className:"mx-2",children:e.name})}),e.subMenus&&n({subMenus:e.subMenus,name:e.name,truncatedName:e.truncatedName,icon:e.icon,slug:e.slug,index:t,pathname:u,openMenus:d})]},t)})]})},c)};t.Z=n},7129:function(e,t,s){"use strict";s.d(t,{X:function(){return l}});var r=s(7437),a=s(2265);let n=(0,a.createContext)({isOpen:!1,setIsOpen:()=>!1});t.default=e=>{let{children:t}=e,[s,l]=(0,a.useState)(!1);return(0,r.jsx)(n.Provider,{value:{isOpen:s,setIsOpen:l},children:t})};let l=()=>(0,a.useContext)(n)},4850:function(e,t,s){"use strict";s.d(t,{default:function(){return c},l:function(){return u}});var r=s(7437),a=s(2385),n=s(8793);let l=new(s.n(n)())("1d7d4753d6d8e40f6edf",{cluster:"ap1",forceTLS:!0});var o=s(2265);let i=(0,o.createContext)({dtNotifications:[]});var c=e=>{let{children:t}=e,{dtNotifications:s,setNotificationsAll:n}=(0,a.Z)();return(0,o.useEffect)(()=>{n({type:"new_order",notifiable:{status:"dibayar"}}),console.log("Initializing Pusher connection..."),l.connection.bind("connected",()=>{console.log("✅ Connected to Pusher successfully")}),l.connection.bind("error",e=>{console.error("❌ Pusher connection error:",e)}),console.log("Subscribing to 'orders' channel...");let e=l.subscribe("orders");return e.bind("pusher:subscription_succeeded",()=>{console.log("✅ Successfully subscribed to orders channel")}),e.bind("pusher:subscription_error",e=>{console.error("❌ Subscription error:",e)}),e.bind("new_order",e=>{console.log("New order:",e),n({type:"new_order",notifiable:{status:"dibayar"}})}),console.log("Current notifications:",s),()=>{console.log("Cleaning up Pusher subscription..."),l.unsubscribe("orders")}},[]),(0,r.jsx)(i.Provider,{value:{dtNotifications:s},children:t})};let u=()=>(0,o.useContext)(i)},2841:function(e,t,s){"use strict";s.d(t,{I:function(){return l}});var r=s(7437),a=s(2265);let n=(0,a.createContext)({welcome:"admin WWF",setWelcome:()=>{},title:"Default Title",setTitle:()=>{},description:"Default Description",setDescription:()=>{}});t.default=e=>{let{children:t}=e,[s,l]=(0,a.useState)("admin WWF"),[o,i]=(0,a.useState)("Default Title"),[c,u]=(0,a.useState)("Default Description");return(0,r.jsx)(n.Provider,{value:{welcome:s,setWelcome:l,title:o,setTitle:i,description:c,setDescription:u},children:t})};let l=()=>(0,a.useContext)(n)},4061:function(e,t,s){"use strict";s.d(t,{I8:function(){return n},Sj:function(){return l},_n:function(){return a},hi:function(){return o}});var r=s(3464);let a="https://thobias.ta-uogp.my.id",n=r.Z.create({baseURL:"".concat(a,"/auth")}),l=r.Z.create({baseURL:"".concat(a,"/crud")}),o=r.Z.create({baseURL:"".concat(a,"/api")});r.Z.create({baseURL:"".concat(a,"/storage")})},393:function(e,t){"use strict";t.Z=e=>{let t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".");return"Rp. ".concat(t)}},2385:function(e,t,s){"use strict";var r=s(3011),a=s(6885),n=s(4061);let l=(0,r.U)((0,a.mW)(e=>({dtNotifications:[],setNotifications:async()=>{try{let t=await (0,n.hi)({method:"get",url:"/notifications"});return e(e=>({...e,dtNotifications:t.data.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setNotificationsAll:async t=>{let{type:s,notifiable:r}=t;try{let t=await (0,n.hi)({method:"get",url:"/notifications/all",params:{type:s,notifiable:r}});return e(e=>({...e,dtNotifications:t.data.data})),{status:"berhasil",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setShowNotifications:async t=>{try{let s=await (0,n.hi)({method:"get",url:"/notifications/".concat(t)});return e(e=>({...e,dtNotifications:s.data.data})),{status:"berhasil",data:s.data}}catch(e){return{status:"error",error:e.response.data}}},setUpdate:async t=>{try{let s=await (0,n.hi)({method:"post",url:"/notifications/update/".concat(t)});return e(e=>({...e,dtNotifications:e.dtNotifications.map(e=>e.id===t?{...e,...s.data.data}:e)})),{status:"berhasil",data:s.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=l},4010:function(e,t,s){"use strict";var r=s(3011),a=s(6885),n=s(4061),l=s(4131);let o=(0,r.U)((0,a.mW)((e,t)=>({setToken:async()=>l.Z.get("token"),setLogin:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setRegister:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/register",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let s=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(s)}});return e(e=>{var s;return{...e,dtUser:null===(s=t.data)||void 0===s?void 0:s.user}}),{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=o},2746:function(e,t,s){"use strict";var r=s(3011),a=s(6885),n=s(4061),l=s(4131);let o=(0,r.U)((0,a.mW)((e,t)=>({setToken:async()=>l.Z.get("token"),setLogout:async()=>{let e=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/logout",headers:{Authorization:"Bearer ".concat(e)}});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=o},2778:function(){}},function(e){e.O(0,[2461,1779,5505,310,8295,7648,4602,2971,2117,1744],function(){return e(e.s=6642)}),_N_E=e.O()}]);