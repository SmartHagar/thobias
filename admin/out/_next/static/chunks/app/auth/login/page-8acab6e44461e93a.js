(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6716],{8257:function(e,t,r){Promise.resolve().then(r.t.bind(r,5878,23)),Promise.resolve().then(r.bind(r,4591))},4591:function(e,t,r){"use strict";r.d(t,{default:function(){return m}});var s=r(7437),a=r(1505),n=r(4010),l=r(9376),i=r(2265),o=r(9501),d=r(4131),c=r(1140),u=e=>{let{label:t,register:r,required:a,name:n,minLength:l,maxLength:o,errors:d,valueAsNumber:u,type:m="password",readOnly:h,placeholder:x,autoComplete:p="on",addClass:k,value:b}=e,[f,v]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:k,children:[(0,s.jsx)("label",{htmlFor:n,className:"text-sm font-medium text-gray-700 tracking-wide",children:t}),a&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{className:"w-full text-base px-4 py-2 border  border-gray-300 rounded-lg focus:outline-none focus:border-third",type:"password"===m?f?"text":"password":m,id:n,readOnly:h,placeholder:x,autoComplete:p,...r(n,{required:a,minLength:l,maxLength:o,valueAsNumber:u}),value:b}),"password"===m&&(0,s.jsx)("div",{className:"absolute right-2 top-0 flex items-center h-full cursor-pointer text-third",onClick:()=>{v(!f)},children:f?(0,s.jsx)(c.I$m,{size:20}):(0,s.jsx)(c.rCC,{size:20})})]}),(null==d?void 0:d.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==d?void 0:d.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",l," karakter"]}),(null==d?void 0:d.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",o," karakter"]}),(null==d?void 0:d.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]})]})},m=()=>{let{setLogin:e,cekToken:t}=(0,n.Z)(),r=(0,l.useRouter)(),[c,m]=(0,i.useState)(""),[h,x]=(0,i.useState)(!1),{register:p,handleSubmit:k,formState:{errors:b}}=(0,o.cI)(),f=(0,i.useCallback)(async()=>{if(d.Z.get("token")){let e=await t();(null==e?void 0:e.error)||r.push("/auth/login")}x(!1)},[t,r]);(0,i.useEffect)(()=>{f()},[f]);let v=async t=>{x(!0),m("");let s=await e(t);if(null==s?void 0:s.error){var a;console.log(null==s?void 0:s.error),m(null==s?void 0:null===(a=s.error)||void 0===a?void 0:a.message)}else{let{data:e}=s,t=e.token,a=e.user;d.Z.set("token",t),d.Z.set("user",JSON.stringify(a)),r.push("/dashboard")}x(!1)};return(0,s.jsxs)("div",{className:"px-5 py-7",children:[c&&(0,s.jsx)("p",{className:"text-red-600 text-center",children:c}),(0,s.jsxs)("form",{action:"",children:[(0,s.jsx)("div",{className:"pb-2 pt-4",children:(0,s.jsx)(a.Z,{label:"Email",register:p,type:"text",name:"email",placeholder:"Email",required:!0,errors:b.email})}),(0,s.jsx)("div",{className:"pb-2 pt-4",children:(0,s.jsx)(u,{name:"password",label:"Password",placeholder:"Password",register:p,required:!0,errors:b.password})}),(0,s.jsx)("div",{className:"mt-5",children:h?(0,s.jsx)("span",{className:"loading loading-dots loading-md"}):(0,s.jsxs)("button",{onClick:k(v),className:"btn btn-outline btn-primary",type:"submit",children:[(0,s.jsx)("span",{className:"inline-block mr-2",children:"Login"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 inline-block",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})]})}},1505:function(e,t,r){"use strict";var s=r(7437);t.Z=e=>{let{label:t,register:r,required:a,name:n,minLength:l,maxLength:i,errors:o,valueAsNumber:d,type:c="text",readOnly:u,placeholder:m,autoComplete:h="on",addClass:x,value:p,defaultValue:k,max:b,min:f,step:v,labelCss:g="text-gray-700"}=e;return(0,s.jsxs)("div",{className:x,children:[(0,s.jsx)("label",{htmlFor:n,className:"text-sm font-medium  tracking-wide ".concat(g),children:t}),a&&(0,s.jsx)("span",{className:"ml-1 text-red-600",children:"*"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{className:"w-full text-gray-700 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-secondary",type:c,id:n,readOnly:u,placeholder:m,autoComplete:h,...r(n,{required:a,minLength:l,maxLength:i,valueAsNumber:d,max:b,min:f,step:v}),defaultValue:k,value:p})}),(null==o?void 0:o.type)==="required"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kosong"]}),(null==o?void 0:o.type)==="minLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",l," karakter"]}),(null==o?void 0:o.type)==="maxLength"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",i," karakter"]}),(null==o?void 0:o.type)==="pattern"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," hanya boleh angka."]}),(null==o?void 0:o.type)==="max"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh lebih dari ",b,"."]}),(null==o?void 0:o.type)==="min"&&(0,s.jsxs)("p",{className:"text-red-500 font-inter italic text-sm",children:[t," tidak boleh kurang dari ",f,"."]})]})}},4061:function(e,t,r){"use strict";r.d(t,{I8:function(){return n},Sj:function(){return l},_n:function(){return a},hi:function(){return i}});var s=r(3464);let a="http://localhost:8000",n=s.Z.create({baseURL:"".concat(a,"/auth")}),l=s.Z.create({baseURL:"".concat(a,"/crud")}),i=s.Z.create({baseURL:"".concat(a,"/api")});s.Z.create({baseURL:"".concat(a,"/storage")})},4010:function(e,t,r){"use strict";var s=r(3011),a=r(6885),n=r(4061),l=r(4131);let i=(0,s.U)((0,a.mW)((e,t)=>({setToken:async()=>l.Z.get("token"),setLogin:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/login",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},setRegister:async e=>{try{let t=await (0,n.I8)({method:"post",url:"/register",data:e});return{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}},cekToken:async()=>{let r=await t().setToken();try{let t=await (0,n.I8)({method:"post",url:"/cek_token",headers:{Authorization:"Bearer ".concat(r)}});return e(e=>{var r;return{...e,dtUser:null===(r=t.data)||void 0===r?void 0:r.user}}),{status:"success",data:t.data}}catch(e){return{status:"error",error:e.response.data}}}})));t.Z=i}},function(e){e.O(0,[1779,310,8295,9501,2971,2117,1744],function(){return e(e.s=8257)}),_N_E=e.O()}]);